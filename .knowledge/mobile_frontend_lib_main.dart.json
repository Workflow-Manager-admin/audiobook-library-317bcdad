{"is_source_file": true, "format": "Dart", "description": "Main source file for a Flutter-based audiobook store app, containing UI components, models, state management, and mock payment integration.", "external_files": ["package:flutter/material.dart", "package:flutter_dotenv/flutter_dotenv.dart", "package:provider/provider.dart", "package:shared_preferences/shared_preferences.dart", "dart:convert", "package:intl/intl.dart", "package:flutter_stripe/flutter_stripe.dart"], "external_methods": ["WidgetsFlutterBinding.ensureInitialized()", "dotenv.load()", "Stripe.publishableKey", "runApp()", "NumberFormat.simpleCurrency"], "published": ["main", "showPurchaseSheet", "Audiobook", "PlayerState", "UserLibraryState", "AudiobookStoreApp"], "classes": [{"name": "Audiobook", "description": "Data model representing an audiobook with properties like id, title, author, cover URL, price, description, audio URL, and duration."}, {"name": "PlayerState", "description": "State management for current audiobook playback, including position, play/pause status, and current book."}, {"name": "UserLibraryState", "description": "State management for user's owned audiobooks and their playback positions, persisting data with SharedPreferences."}], "methods": [{"name": "main", "description": "Application entry point, initializes environment and Stripe configuration, then runs the app."}], "calls": ["WidgetsFlutterBinding.ensureInitialized()", "dotenv.load()", "Stripe.publishableKey = dotenv.env['STRIPE_PUBLISHABLE_KEY'] ?? ''", "runApp(const AudiobookStoreApp())", "NumberFormat.simpleCurrency(name: 'USD')", "SharedPreferences.getInstance()", "prefs.getStringList('library')", "jsonDecode(positionsMap)", "prefs.setStringList('library', ownedBookIds)", "prefs.setString('positions', jsonEncode(playbackPositions))"], "search-terms": ["audiobook", "state management", "Flutter UI", "payment integration", "video or audio player", "purchase", "Stripe", "demoBooks", "library", "store", "player"], "state": 2, "file_id": 2, "knowledge_revision": 47, "git_revision": "", "revision_history": [{"32": ""}, {"38": ""}, {"43": ""}, {"44": ""}, {"46": ""}, {"47": ""}], "hash": "33725109795302e2c9ec8a2c6036adcd", "format-version": 4, "code-base-name": "mobile_frontend", "filename": "mobile_frontend/lib/main.dart"}